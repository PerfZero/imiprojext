# Проверка работы сервера на домене

## Что было изменено:

1. Мобильное приложение теперь использует домен `https://imiclub.pro` вместо локального IP
2. Проект пересобран и синхронизирован с Android

## Как проверить, что сервер работает на домене:

### 1. Проверка через браузер:

Откройте в браузере:
- `https://imiclub.pro/api` - должен вернуть ответ (или ошибку 404, но не "сервер недоступен")
- `https://imiclub.pro/docs` - должна открыться документация API

### 2. Проверка через curl:

```bash
curl https://imiclub.pro/api
```

Должен вернуть ответ от сервера.

### 3. Проверка, что сервер запущен:

На сервере выполните:
```bash
cd server
npm run start
```

Или если используете PM2:
```bash
pm2 status
pm2 logs
```

### 4. Проверка nginx:

Убедитесь, что nginx правильно проксирует запросы:

```bash
sudo nginx -t
sudo systemctl status nginx
```

Проверьте конфигурацию nginx - она должна проксировать `/api` на `http://localhost:3000`

### 5. Проверка портов:

Убедитесь, что порт 3000 слушается:
```bash
netstat -tulpn | grep 3000
# или
lsof -i :3000
```

## Если сервер не работает:

### Проблема: Сервер не запущен
**Решение:** Запустите сервер:
```bash
cd server
npm run start
```

### Проблема: nginx не проксирует запросы
**Решение:** Проверьте конфигурацию nginx в `/etc/nginx/sites-available/imiclub.pro`:
```nginx
location /api {
    proxy_pass http://localhost:3000;
    ...
}
```

### Проблема: Порт 3000 не доступен
**Решение:** Убедитесь, что сервер слушает на `0.0.0.0`, а не только на `localhost`

### Проблема: SSL сертификат не работает
**Решение:** Проверьте настройки SSL в nginx и убедитесь, что сертификат действителен

## После исправления:

1. Пересоберите APK в Android Studio
2. Установите новую версию на телефон
3. Проверьте работу API в приложении

